<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tienda de Lámparas WebAR</title>
    <!-- Carga de Tailwind CSS CDN (solo para desarrollo) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Import Map CORREGIDO: Usando CDNs para solucionar los errores 404 -->
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.158.0/build/three.module.js",
                "three/addons/loaders/GLTFLoader.js": "https://raw.githack.com/mrdoob/three.js/r158/examples/jsm/loaders/GLTFLoader.js",
                "three/addons/webxr/ARButton.js": "https://raw.githack.com/mrdoob/three.js/r158/examples/jsm/webxr/ARButton.js",
                "three/addons/postprocessing/EffectComposer.js": "https://raw.githack.com/mrdoob/three.js/r158/examples/jsm/postprocessing/EffectComposer.js",
                "three/addons/postprocessing/RenderPass.js": "https://raw.githack.com/mrdoob/three.js/r158/examples/jsm/postprocessing/RenderPass.js",
                "three/addons/postprocessing/UnrealBloomPass.js": "https://raw.githack.com/mrdoob/three.js/r158/examples/jsm/postprocessing/UnrealBloomPass.js"
            }
        }
    </script>
    <style>
        /* Estilos generales para asegurar que el canvas cubra toda la pantalla */
        body { margin: 0; overflow: hidden; font-family: 'Inter', sans-serif; background-color: #0d1117; }
        canvas { display: block; width: 100%; height: 100%; }

        /* Estilo para el contenedor del botón de AR, es crítico que esté en la capa superior */
        #ar-button-container {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
        }
        
        /* Estilo para el botón de control de la lámpara (encendido/apagado) */
        #switch-button {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
        }
    </style>
</head>
<body>

    <!-- Botón de Control (Encender/Apagar Lámpara) -->
    <button id="switch-button" class="bg-yellow-500 hover:bg-yellow-600 text-gray-900 font-bold py-3 px-6 rounded-lg shadow-lg transition duration-150 ease-in-out">
        Encender Lámpara
    </button>
    
    <!-- Contenedor donde Three.js insertará el botón "START AR" -->
    <div id="ar-button-container"></div>
    
    <!-- La aplicación principal se carga aquí -->
    <script type="module" src="app.js"></script>
    
</body>
</html>